{% extends "base.html" %}
{% block title %}管理画面{% endblock %}
{% block content %}
<h2 class="mb-4">フロア管理</h2>
<form method="POST" class="mb-4">
  <div class="mb-3">
    <label for="name" class="form-label">フロア名</label>
    <input type="text" class="form-control" id="name" name="name" required>
  </div>
  <div class="mb-3">
    <label for="description" class="form-label">説明</label>
    <textarea class="form-control" id="description" name="description" rows="3"></textarea>
  </div>
  <button type="submit" class="btn btn-primary w-100">追加</button>
</form>


<div class="table-responsive">
<!-- 管理画面 - フロア一覧表示部分 -->
<table class="table table-striped table-hover mt-4">
  <thead>
    <tr>
      <th>階名</th>
      <th>説明</th>
      <th>操作</th>
    </tr>
  </thead>
  <tbody>
    {% for floor in floors %}
    <tr>
      <td>{{ floor.name }}</td>
      <td>{{ floor.description }}</td>
      <td>
        <div class="d-flex gap-2">
          <a class="btn btn-sm btn-outline-primary" href="{{ url_for('edit_floor', floor_id=floor.id) }}">編集</a>
          <form action="{{ url_for('delete_floor', floor_id=floor.id) }}" method="post" onsubmit="return confirm('本当に削除しますか？');">
            <button type="submit" class="btn btn-sm btn-outline-danger">削除</button>
          </form>
        </div>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

</div>
{% endblock %}
